Here’s a structured ServiceNow Change Request for the IIS URL Rewrite implementation.

⸻

Short Description:

Implement IIS URL Rewrite rule to redirect non-admin users accessing /psweb/login to a deprecation notice page while allowing admin users to proceed.

⸻

Description:

This change will configure an IIS URL Rewrite rule to redirect users accessing www.cyber.com/psweb/login to www.cyber.com/deprecated.html. However, if an admin accesses www.cyber.com/psweb/login?admin=123, they will bypass the redirection and access the login page normally.

The rule will be configured using IIS Manager UI and will prevent infinite redirect loops.

⸻

Justification:
	•	Ensures users are notified of the login page deprecation.
	•	Restricts non-admin access while allowing administrators to log in.
	•	Prevents unauthorized access to the old login page.
	•	Aligns with security and compliance policies.

⸻

Implementation Plan:
	1.	Backup IIS Configuration:
	•	Take a backup of IIS settings using appcmd add backup PreRewriteBackup.
	2.	Install IIS URL Rewrite Module (If Not Installed):
	•	Download and install from Microsoft.
	•	Restart IIS after installation.
	3.	Configure URL Rewrite Rule in IIS Manager:
	•	Open IIS Manager and navigate to the application.
	•	Add a new Blank Rule in URL Rewrite.
	•	Set conditions to:
	•	Redirect all users accessing /psweb/login to /deprecated.html.
	•	Exclude requests containing admin=123 in the query string.
	4.	Apply and Save Configuration:
	•	Restart IIS to apply changes.
	5.	Testing and Validation:
	•	Test redirection behavior for both admin and non-admin users.
	6.	Monitor for Issues Post-Implementation.

⸻

Communication Plan:
	•	Notify relevant stakeholders (IT Security, Web Admin, Helpdesk).
	•	Inform end-users about the login page deprecation and new access method.
	•	Update documentation and internal portals if necessary.

⸻

Risk and Impact Analysis:

Risks:
	•	Incorrect rule configuration may lead to redirection failure.
	•	Admin access might be blocked if conditions are misconfigured.
	•	Unexpected behavior due to caching or browser issues.

Impact:
	•	Low impact as it only affects specific URL requests.
	•	Admin access will remain unaffected if correctly implemented.
	•	Minimal downtime (~5 minutes during IIS reset).

⸻

Backout Plan:
	1.	Restore IIS Backup:
	•	Run: %windir%\system32\inetsrv\appcmd restore backup PreRewriteBackup.
	2.	Remove URL Rewrite Rule:
	•	Open IIS Manager → URL Rewrite → Delete the rule.
	3.	Restart IIS:

iisreset


	4.	Validate login functionality.

⸻

Test Plan:
	1.	Test non-admin user access:
	•	Access www.cyber.com/psweb/login → Should redirect to /deprecated.html.
	2.	Test admin access:
	•	Access www.cyber.com/psweb/login?admin=123 → Should open login page.
	3.	Verify URL Rewrite rule in IIS Manager.
	4.	Check IIS logs for unexpected errors.
	5.	Ensure system stability post-change.

⸻

Post-Implementation Review:
	•	Verify that the redirection rule is working correctly.
	•	Gather feedback from stakeholders.
	•	Check for any reported issues from end-users.
	•	Document lessons learned for future changes.

⸻

Let me know if you need any modifications!
